<mat-tab-group dynamicHeight (selectedTabChange)="showMyStories = !showMyStories">
    <mat-tab label="Created by me">
        @if(loadingStories) {
        <mat-spinner [diameter]="30"></mat-spinner>
        }
        @else {
        <div id="list">
            <ng-container [ngTemplateOutlet]="ownedStories"></ng-container>
        </div>
        }
    </mat-tab>
    <mat-tab label="Stories I've joined">
        @if(loadingStories) {
        <mat-spinner [diameter]="30"></mat-spinner>
        }
        @else {
        <div id="list">
            <ng-container [ngTemplateOutlet]="participantStoriesList"></ng-container>
        </div>
        }
    </mat-tab>
</mat-tab-group>

<ng-template #participantStoriesList>
    <div id="list-content">
        @if (participantStories.length === 0) {
        <div id="empty">
            No stories
        </div>
        }
        @for(story of participantStories; track $index) {
        <div class="participant-story story" (click)="StoryClicked(story)">
            <div class="story-left">
                <span>
                    {{story.storyName}}
                </span>
                <!-- <span>
                        {{story}}
                    </span> -->
            </div>
            <div class="story-right">
                <span>
                    {{story.created| date}}
                </span>
                <mat-icon>arrow_forward_ios</mat-icon>
            </div>
        </div>
        }
        <!-- <mat-table [dataSource]="filteredStories" class="mat-elevation-z8"> -->
        <!--      
        <ng-container matColumnDef="storyName">
            <mat-header-cell *matHeaderCellDef> Story </mat-header-cell>
            <mat-cell *matCellDef="let story"> {{story.storyName}} </mat-cell>
        </ng-container>
        
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="StoryClicked(row)"></mat-row>
    </mat-table> -->
    </div>
</ng-template>

<ng-template #ownedStories>
    <div id="list-content">
        @if (stories.length === 0) {
        <div id="empty">
            No stories
        </div>
        }
        @for(story of stories; track $index) {
        <div class="story" (click)="StoryClicked(story)">
            <div class="story-left">
                <span>
                    {{story.storyName}}
                </span>
                <!-- <span>
                        {{story}}
                    </span> -->
            </div>
            <div class="story-right">
                <span>
                    {{story.created| date}}
                </span>
                <mat-icon>arrow_forward_ios</mat-icon>
            </div>
        </div>
        }
        <!-- <mat-table [dataSource]="filteredStories" class="mat-elevation-z8"> -->
        <!--      
        <ng-container matColumnDef="storyName">
            <mat-header-cell *matHeaderCellDef> Story </mat-header-cell>
            <mat-cell *matCellDef="let story"> {{story.storyName}} </mat-cell>
        </ng-container>
        
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="StoryClicked(row)"></mat-row>
    </mat-table> -->
    </div>
</ng-template>